---
title: スタブ
---

## スタブ

`ks.stub()`を使用して、疑似的な関数を作成できます。

```typescript
ks.stub(オブジェクト, メソッド名, 疑似戻り値);
```

```typescript
import Kensa from 'kensajs';
import exampleModuleStub from './lib/example';
import { add } from './lib/add';

let ks = Kensa();

// 通常
// add関数内部でexampleModuleStub.testFunctionを呼び出している
ks.test({
  title: 'テスト項目',
  input: () => add(1, 1),
  expect: 2,
});

// スタブ testFunctionの戻り値を5にする
ks.stub(exampleModuleStub, 'testFunction', 5);

ks.test({
  title: 'テスト項目',
  input: () => add(1, 1),
  expect: 5,
});

// スタブを解除 (解除しない場合は、次のテストにも引き継がれます)
// スタブの戻り値を変更する場合も、解除してから再度スタブを設定してください。
ks.clearStub();

// スタブ testFunctionの戻り値を6にする
ks.stub(exampleModuleStub, 'testFunction', 6);

// Test with a simple value
ks.test({
  title: '1,Simple Value Test',
  input: () => add(1, 1),
  expect: 6,
});

ks.run();
```

###### 実行結果
```bash
✓  テスト項目
✓  テスト項目
✓  テスト項目

TOTAL: 3, PASS: 3, FAIL: 0
```